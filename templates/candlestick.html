{% extends "base.html" %}
{% block scripts %}
    {{ super() }}
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

  function drawChart() {
    var data = google.visualization.arrayToDataTable({{ chart_data | safe }}, true);


    var options = {
      legend:'none',
      orientation: 'vertical',
      bar: { groupWidth: '50%' }
    };

    var chart = new google.visualization.CandlestickChart(
    document.getElementById('chart_div')
    );
<!--    // Wait for the chart to finish drawing before calling the getImageURI() method.-->
<!--      google.visualization.events.addListener(chart, 'ready', function () {-->
<!--        chart_div.innerHTML = '<img src="' + chart.getImageURI() + '">';-->
<!--        console.log(chart_div.innerHTML);-->
<!--      });-->

    chart.draw(data, options);
  }
    </script>

{% endblock %}
  {% block title %}Home Page{% endblock %}
  {% block content %}
    <div id="chart_div" style="height: 700px;"></div>
  {% endblock %}
</html>
